#!/bin/bash
# Claude Code Configuration Setup Script
# Syncs user-specific Claude configuration from dotfiles to ~/.claude

DOTFILES_CLAUDE="$HOME/.oh-my-zsh/custom/config/claude"
GLOBAL_CLAUDE="$HOME/.claude"

# Ensure global ~/.claude directory exists
mkdir -p "$GLOBAL_CLAUDE" 2>/dev/null

# Copy all .claude contents
cp -r "$DOTFILES_CLAUDE/"* "$GLOBAL_CLAUDE/" 2>/dev/null || true

# Copy voice notifications if they exist
if [ ! -d "$DOTFILES_CLAUDE/voice_notifications" ]; then
  echo "⚠️  No voice notifications found - run 'uv run ~/.claude/generate_notification_voices.py' first" >&2
fi

# Copy settings.json configuration
if [ -f "$DOTFILES_CLAUDE/settings.json" ]; then
  cp "$DOTFILES_CLAUDE/settings.json" "$GLOBAL_CLAUDE/settings.json"
else
  echo "⚠️  No settings.json found in $DOTFILES_CLAUDE" >&2
  exit 1
fi

echo "✓ Claude Code configuration synced"